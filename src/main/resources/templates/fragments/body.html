<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div th:fragment="fragment-body" style="padding: 20px;">
    <div class="sliderBox">
    </div>
    <div class="bodyWrapper">
        <section>
            <div class="category">
                <h1>카테고리 선택</h1>
                <form action="/" method="get" id="categoryForm">
                    <ul>
                        <li>
                            <input type="hidden" th:value="${params.currentPageNo}" name="currentPageNo"/>
                            <input type="hidden" th:value="${params.recordsPerPage}" name="recordsPerPage"/>
                            <input type="hidden" th:value="${params.pageSize}" name="pageSize"/>
                            <input type="hidden" th:value="${params.searchType}" name="searchType"/>
                            <span>인원수 선택 &nbsp; | </span>
                            <select id = "productCategoryNumberOfHouseholds" name = "cat1" class = "productCategoryNumberOfHouseholds">
                                <option value = "single">싱글</option>
                                <option th:selected="${params.cat1 eq 'couple'}" value="couple">커플</option>
                                <option th:selected="${params.cat1 eq 'trio'}" value="trio">3인</option>
                                <option th:selected="${params.cat1 eq 'squad'}" value="squad">4인</option>
                                <option th:selected="${params.cat1 eq 'more'}" value="more">그외</option>
                            </select>
                        </li>
                        <li>
                            <span>집형태 선택 &nbsp; | </span>
                            <select id = "productCategoryHomeScale" name = "cat2" class = "productCategoryHomeScale">
                                <option th:selected="${params.cat2 eq 'apartment'}" value = "apartment">아파트</option>
                                <option th:selected="${params.cat2 eq 'villa'}" value = "villa">빌라</option>
                                <option th:selected="${params.cat2 eq 'house'}" value = "house">단독주택</option>
                                <option th:selected="${params.cat2 eq 'studio'}" value = "studio">오피스텔</option>
                                <option th:selected="${params.cat2 eq 'studioApartment'}" value = "studioApartment">원룸</option>
                            </select>
                        </li>
                        <li>
                            <span>디자인 선택 &nbsp; | </span>
                            <select id = "productCategoryInterior" name = "cat3" class = "productCategoryInterior">
                                <option th:selected="${params.cat3 eq 'classic'}" value = "classic">클래식</option>
                                <option th:selected="${params.cat3 eq 'modern'}" value = "modern">모던</option>
                                <option th:selected="${params.cat3 eq 'minimalistic'}" value = "minimalistic">미니멀리즘</option>
                                <option th:selected="${params.cat3 eq 'natural'}" value = "natural">자연</option>
                                <option th:selected="${params.cat3 eq 'vintage'}" svalue = "vintage">빈티지</option>
                            </select>
                        </li>
                        <li>
                            <h5 style="font-weight: 200; font-size: 1.5rem; margin: 0;">가격 선택</h5>
                            <div>
                                    <input type="text" placeholder="최소 가격" th:value="${params.minPrice}" name="minPrice" class= "productCategoryPrice minPrice"/>
                                    <div style="margin-top: 10px;">|</div>
                                    <input type="text" placeholder="최대 가격" th:value="${params.maxPrice}" name="maxPrice" class= "productCategoryPrice maxPrice"/>
                                    <input type="submit" class= "productCategoryPrice" id="productCategoryPriceButton" value="적용"/>
                            </div>
                        </li>
                    </ul>
                </form>
            </div>
            <div class="view">
                <div class="filterBox">
                    <div class="searchBox">
                        <input type="text" placeholder="이름으로 검색" value="" id="searchBar"/>
                        <span class="sub-search-icon">
                                <label>
                                    <i class="xi-search"></i>
                                </label>
                            </span>
                    </div>
                    <div class="orderBox" th:if="${params != null and params.paginationInfo.totalRecordCount > 0}" th:object="${params.paginationInfo}" th:with="info=${params.paginationInfo}">
                        <span class="title"><i class="xi-align-justify"></i></span>
                        <a href="javascript:void(0)" th:onclick="movePage([[ ${#request.requestURI} ]], [[ ${params.makeQueryString(params.currentPageNo, 'product_no', params.cat1, params.cat2, params.cat3, params.minPrice, params.maxPrice)} ]])" class="order product_no" style="margin-left: 0;">최신순</a>
                        <a href="javascript:void(0)" th:onclick="movePage([[ ${#request.requestURI} ]], [[ ${params.makeQueryString(params.currentPageNo, 'productPrice', params.cat1, params.cat2, params.cat3, params.minPrice, params.maxPrice)} ]])" class="order productPrice">가격순</a>
                        <a href="javascript:void(0)" th:onclick="movePage([[ ${#request.requestURI} ]], [[ ${params.makeQueryString(params.currentPageNo, 'likeNum', params.cat1, params.cat2, params.cat3, params.minPrice, params.maxPrice)} ]])" class="order likeNum">추천순</a>
                        <a href="javascript:void(0)" th:onclick="movePage([[ ${#request.requestURI} ]], [[ ${params.makeQueryString(params.currentPageNo, 'productView', params.cat1, params.cat2, params.cat3, params.minPrice, params.maxPrice)} ]])" class="order productView">조회순</a>
                    </div>
                </div>
                <ul class="itemUl">
                    <li th:each="postList : ${postList}" class="itemLi">
                        <a th:href="'postInfo?post_no=' + ${postList.getProduct_no()}" class="itemLiLink">
                            <div class="imgBox">
                                <img th:src="${postList.getImg_url_main()}" style="width: 100%; height:100%;"/>
                            </div>
                            <ul class="productUl">
                                <li th:text="'상품명 : ' + ${postList.getProductName()}"></li>
                                <li th:text="${postList.getProductPrice()}" class="uiProductPrice"></li>
                                <li th:text="'조회수 : ' + ${postList.getProductView()}"></li>
                                <li th:text="'추천수 : ' + ${postList.getLikeNum()}"></li>
                                <li th:text="'태그 : ' + ${postList.getProductCategoryHomeScale()} + ' | ' + ${postList.getProductCategoryNumberOfHouseholds()} + ' | ' + ${postList.getProductCategoryInterior()}">태그</li>
                            </ul>
                        </a>
                    </li>
                    <th:block layout:frament="paging">
                        <nav th:replace="/fragments/pagination.html :: pagination"></nav>
                    </th:block>
                    <!-- 버튼클릭시 상태에 맞는 현재페이지 쿼리스트링 값 변경 -->
                    <th:block layout:fragment="script">
                        <script th:inline="javascript">
                            /*<![CDATA[*/
                            function movePage(uri, queryString) {
                                location.href = uri + queryString;
                            }
                            /*]]>*/
                        </script>
                    </th:block>
                </ul>
            </div>
        </section>
        <aside>
            <h1>광고</h1>
            <div class="advertisementBox">
            </div>
        </aside>
    </div>
</div>
</html>